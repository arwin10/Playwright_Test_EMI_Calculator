# .gitignore Guide

## What's Being Ignored

This document explains what files and folders are excluded from Git version control and why.

### ðŸ“¦ Dependencies
```
node_modules/          # NPM packages (regenerated by npm install)
package-lock.json      # Lock file (can be regenerated)
```

### ðŸ—ï¸ Build Outputs
```
dist/                  # Compiled/built files
build/                 # Build directory
out/                   # Output directory
```

### ðŸ“Š Test Reports & Results
```
reports/               # General reports folder
report/                # Alternative reports folder
allure-results/        # Allure raw test results
allure-report/         # Generated Allure HTML reports
test-results/          # Playwright test results
playwright-report/     # Playwright HTML reports
playwright/.cache/     # Playwright cache
html-report/           # HTML test reports
junit-results/         # JUnit XML reports
coverage/              # Code coverage reports
```

**Why ignored?**
- These are generated on each test run
- Large in size (videos, screenshots)
- Can be regenerated anytime
- CI/CD generates and archives them
- Available as artifacts in GitHub Actions

### ðŸŽ¬ Test Artifacts
```
screenshots/           # Test failure screenshots
videos/                # Test execution videos
traces/                # Playwright trace files
downloads/             # Downloaded files during tests
*.trace.zip           # Zipped trace files
```

**Why ignored?**
- Can be very large (videos especially)
- Generated automatically
- Available in CI/CD artifacts
- Can be regenerated by re-running tests

### ðŸ” Environment Files
```
.env                   # Environment variables (may contain secrets)
.env.local             # Local environment overrides
.env.development       # Development environment
.env.test              # Test environment
.env.production        # Production environment
```

**Why ignored?**
- May contain sensitive information (API keys, passwords)
- Different per developer/environment
- Use .env.example as template instead

### ðŸ“ Logs
```
*.log                  # All log files
logs/                  # Logs directory
npm-debug.log*         # NPM debug logs
yarn-debug.log*        # Yarn debug logs
pnpm-debug.log*        # PNPM debug logs
lerna-debug.log*       # Lerna debug logs
```

**Why ignored?**
- Generated during runtime
- Can be large
- Not useful for version control
- Available in CI/CD logs

### ðŸ’» OS Files
```
.DS_Store              # macOS folder metadata
.DS_Store?             # macOS alternate
._*                    # macOS resource forks
Thumbs.db              # Windows thumbnail cache
ehthumbs.db            # Windows Explorer thumbnails
*.swp, *.swo, *~       # Vim swap files
```

**Why ignored?**
- Operating system specific
- Not part of the project
- Different per developer

### ðŸ”§ IDE Files
```
.vscode/               # VS Code settings
.idea/                 # JetBrains IDE settings
*.iml, *.ipr, *.iws   # IntelliJ files
.sublime-*             # Sublime Text files
```

**Why ignored?**
- IDE-specific configurations
- Different per developer
- Not part of the project

### âš™ï¸ Playwright Specific
```
playwright/.auth/      # Playwright authentication state
.auth/                 # Auth tokens/sessions
```

**Why ignored?**
- Contains sensitive session data
- User-specific
- Should not be shared

### ðŸŽ¯ CI/CD Artifacts
```
.github/artifacts/     # Local CI/CD artifacts (if any)
```

**Why ignored?**
- Temporary CI/CD files
- Available in GitHub Actions

## What SHOULD Be Committed

### âœ… Always Commit:
- Source code (`.ts`, `.js` files)
- Test files (`*.spec.ts`)
- Page object models
- Configuration files (`playwright.config.ts`, `tsconfig.json`)
- Package definition (`package.json`)
- Documentation (`.md` files)
- Workflow files (`.github/workflows/*.yml`)
- `.env.example` (template for environment variables)
- `.gitignore` itself

### âš ï¸ Verify Before Committing:
- Lock files (`package-lock.json`) - Team decision
- IDE settings if shared across team
- Small, necessary test data files

## Best Practices

### 1. Check Before Adding Large Files
```bash
# See what will be committed
git status

# Check file sizes
git ls-files --others --exclude-standard | xargs du -sh
```

### 2. Never Commit Secrets
```bash
# Check for potential secrets
git diff --cached | grep -i "password\|secret\|api_key\|token"
```

### 3. Clean Up Before Committing
```bash
# Remove ignored files
git clean -fdX

# Or selectively
rm -rf node_modules/ test-results/ allure-results/
```

### 4. Use .env.example
```bash
# Good practice
cp .env .env.example
# Then remove sensitive values from .env.example
```

## Troubleshooting

### File Already Tracked?
If a file is already committed, .gitignore won't affect it.

**Remove from Git (keep locally):**
```bash
git rm --cached filename
git rm -r --cached folder/
```

**Remove from Git and locally:**
```bash
git rm filename
git rm -r folder/
```

### Accidentally Committed Secrets?
1. Remove the file:
   ```bash
   git rm --cached .env
   ```

2. Commit the removal:
   ```bash
   git commit -m "Remove .env from version control"
   ```

3. Rotate the exposed secrets immediately!

4. Consider using tools like:
   - `git-secrets`
   - `gitleaks`
   - GitHub secret scanning

### Check What's Ignored
```bash
# Check if a file is ignored
git check-ignore -v filename

# List all ignored files
git status --ignored

# List all tracked files
git ls-files
```

## Storage Savings

By ignoring these files, you save:

| Category | Typical Size | Why Large |
|----------|--------------|-----------|
| node_modules | 100-500 MB | All dependencies |
| test-results | 50-500 MB | Videos, screenshots, traces |
| allure-report | 5-50 MB | HTML reports with assets |
| videos | 1-10 MB each | Screen recordings |
| traces | 2-20 MB each | Full Playwright traces |

**Total potential savings:** 200 MB - 1 GB+ per clone

## Customization

### Add Project-Specific Ignores
Edit `.gitignore` and add:
```
# Your custom patterns
my-custom-folder/
*.custom-extension
```

### Per-Developer Ignores
Use `.git/info/exclude` for personal ignores:
```bash
echo "my-local-notes.txt" >> .git/info/exclude
```

### Global Ignores
Set up global ignores for all repos:
```bash
git config --global core.excludesfile ~/.gitignore_global
```

## Verification

### Check Current Setup
```bash
# View .gitignore
cat .gitignore

# Test if files are ignored
git check-ignore -v test-results/
git check-ignore -v reports/
```

### Validate Clean Repository
```bash
# Should show no ignored files committed
git ls-files | grep -E "test-results|reports|allure-|node_modules"

# Should return nothing if properly ignored
```

## References

- [Git Documentation - gitignore](https://git-scm.com/docs/gitignore)
- [GitHub gitignore templates](https://github.com/github/gitignore)
- [gitignore.io](https://www.toptal.com/developers/gitignore)

---

**Last Updated:** November 2025  
**Maintained By:** Test Automation Team
